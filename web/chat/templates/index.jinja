{% extends "base.jinja" %}

{% block head %}
<link rel="stylesheet" href="{{ static('pages/index.css') }}">
{% endblock %}

{% block body %}
<div class="main">

  <div class="sidebar">
  </div>

  <div class="chat">
    <div class="chat-history">
    </div>

    <div class="chat-input">
      <textarea id="chatInput" placeholder="Ask a question"></textarea>
      <button id="chatSubmit">â–²</button>
    </div>
  </div>

</div>

<script>
{
  class ChatArea {
    constructor() {
      this.initUI();
    }

    initUI() {
      this.ui = {};

      this.ui.chatInput = document.getElementById("chatInput");
      this.ui.chatInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter" && !e.shiftKey) {
          e.preventDefault();
          this.submitMessage();
        }
      });

      this.ui.chatSubmit = document.getElementById("chatSubmit");
      this.ui.chatSubmit.addEventListener("click", () => {
        this.submitMessage();
      });
    }

    submitMessage() {
      alert(this.ui.chatInput.value);
    }
  }

  document.addEventListener("DOMContentLoaded", () => {
    new ChatArea();
  });
}
</script>
{% endblock %}
